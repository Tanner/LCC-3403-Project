/*!
  * jquery rect (c) Martin Tillmann
  * https://github.com/mtillmann/jquery-rect
  * MIT License
*/
(function(a){a.rect=function(c,l){var g=this;var d={position:"position",dimension:"outer",withMargin:true};g.settings={};var j=function(){g.settings=a.extend({},d,l);g.el=c};g.getRect=function(m){return e(a.extend(m[g.settings.position](),h(m)))};g.getBox=function(m){return f(g.getRect(m))};var k=function(m){return{left:m.left,top:m.top,width:m.right-m.left,height:m.bottom-m.top}};var f=function(m){return{left:m.left,top:m.top,right:m.left+m.width,bottom:m.top+m.height}};var e=function(o){var n,m={};for(n in o){m[n]=parseFloat(o[n])}return m};var i=function(o){var n,m={};for(n in o){m[n]=parseFloat(o[n])+"px"}return m};var h=function(m){return g.settings.dimension!="css"?{width:a(m).outerWidth(g.settings.withMargin),height:a(m).outerHeight(g.settings.withMargin)}:{width:a(m).css("width"),height:a(m).css("height")}};var b=function(m){if(!m.width&&!m.height){return(m.right-m.left)*(m.bottom-m.top)}return m.width*m.height};g.intersects=function(p,o){if(!p){return false}var n=g.getBox(g.el),m=g.getBox(p);if(n.left<=m.right&&m.left<=n.right&&n.top<=m.bottom&&m.top<=n.bottom){if(o){return[n,m]}return true}return false};g.intersection=function(q,u,n){var t=g.intersects(q,true);if(!t){return false}var x=t[0],v=t[1],r=Math.max(x.left,v.left),o=Math.min(x.right,v.right),y,w,m;if(r<=o){y=Math.max(x.top,v.top);w=Math.min(x.bottom,v.bottom);if(y<=w){m={left:r,top:y,right:o,bottom:w};if(u=="box"){return m}if(u=="portion"){var s=b(x),p=b(k(m));return p/s}return k(m)}}return null};j()}}(jQuery));